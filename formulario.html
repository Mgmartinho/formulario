<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulário</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container mt-5">
    <form class="text-uppercase">
      <!-- Linha 1 DADOS PESSOAIS-->
      <div class="row ">
        <div class="col-md-3">
          <div class="form-group">
            <label for="nome">Nome Completo: *</label>
            <input type="text" class="form-control" id="nome" placeholder="Digite seu nome completo" required>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="celular">Celular/WhatsApp:*</label>
            <input type="tel" class="form-control" id="celular" placeholder="Digite seu celular (XX)XXXXX-XXXX" required>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="email">Email: *</label>
            <input type="email" class="form-control" id="email" placeholder="Digite seu email" required>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="cpf">CPF: *</label>
            <input type="text" class="form-control" id="cpf" placeholder="Digite seu CPF " required>
          </div>
        </div>
      </div>

      <!-- Linha ENDEREÇO E LINKEDIN -->
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <label for="bairro">Bairro:</label>
            <input type="text" class="form-control" id="bairro" placeholder="Digite seu bairro">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="cidade">Cidade:</label>
            <input type="text" class="form-control" id="cidade" placeholder="Digite sua cidade">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="uf">UF:</label>
            <select class="form-control" id="uf">
              <option selected>Escolha...</option>
              <option>AC</option>
              <option>AL</option>
              <option>AP</option>
              <option>AM</option>
              <option>BA</option>
              <option>CE</option>
              <option>DF</option>
              <option>ES</option>
              <option>GO</option>
              <option>MA</option>
              <option>MT</option>
              <option>MS</option>
              <option>MG</option>
              <option>PA</option>
              <option>PB</option>
              <option>PR</option>
              <option>PE</option>
              <option>PI</option>
              <option>RJ</option>
              <option>RN</option>
              <option>RS</option>
              <option>RO</option>
              <option>RR</option>
              <option>SC</option>
              <option>SP</option>
              <option>SE</option>
              <option>TO</option>
              <!-- Adicione outras opções de estado aqui -->
            </select>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="linkedin1">LinkedIn:</label>
            <input type="text" class="form-control" id="linkedin1" placeholder="Digite seu LinkedIn">
          </div>
        </div>
      </div>

      <!-- FORMAÇÃO ACADEMICA-->
      <div class="row">
        <div class="col-md-12">
          <h4>Formação Acadêmica:</h4>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <label for="curso1">Curso:</label>
            <input type="text" class="form-control" id="curso1" placeholder="Digite o curso">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="instituicao1">Instituição:</label>
            <input type="text" class="form-control" id="instituicao1" placeholder="Digite a instituição">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="data1">Data:</label>
            <input type="text" class="form-control" id="data1" placeholder="Digite a data">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="adicionar">&nbsp;</label>
            <button type="button" class="btn btn-primary btn-block">Adicionar +</button>
          </div>
        </div>
      </div>

      <!--SISTEMAS E INFORMATICA-->
      <div class="row">
        <div class="col-md-12">
          <h4>Sistemas e Informática:</h4>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="form-group">
            <label for="titulo_sistemas">Título:</label>
            <input type="text" class="form-control" id="titulo_sistemas" placeholder="Digite o título">
          </div>
        </div>
      </div>

      <!--CARGOS DE INTERESSE OBJETIVO-->
      <div class="row">
        <div class="col-md-12">
          <h4>Cargos de Interesse/Objetivo:</h4>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="form-group">
            <label for="cargos_interesse">Cargos de Interesse/Objetivo:</label>
            <input type="text" class="form-control" id="cargos_interesse" placeholder="Digite os cargos de interesse ou objetivo">
          </div>
        </div>
      </div>

      <!-- TRAJETORIA PROFISSIONAL -->
      <div class="row">
        <div class="col-md-12">
          <h4>Trajetória Profissional:</h4>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <label for="nome_empresa">Nome da Empresa:</label>
            <input type="text" class="form-control" id="nome_empresa" placeholder="Digite o nome da empresa">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="cargo">Cargo:</label>
            <input type="text" class="form-control" id="cargo" placeholder="Digite o cargo">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="data_entrada">Data de Entrada:</label>
            <input type="text" class="form-control" id="data_entrada" placeholder="Digite a data de entrada">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="data_saida">Data de Saída:</label>
            <input type="text" class="form-control" id="data_saida" placeholder="Digite a data de saída">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="form-group">
            <label for="atividades_realizadas">Atividades Realizadas:</label>
            <textarea class="form-control" id="atividades_realizadas" rows="3" placeholder="Descreva as atividades realizadas"></textarea>
          </div>
        </div>
      </div>

      <!-- Linha 5 -->
      <div class="row">
        <div class="col-md-12">
          <h4>Cursos Livres:</h4>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <label for="curso_realizado">Curso:</label>
            <input type="text" class="form-control" id="curso_realizado1" placeholder="Digite o curso">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="instituicao_curso">Instituição:</label>
            <input type="text" class="form-control" id="instituicao_curso1" placeholder="Digite a instituição">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="data_curso">Data:</label>
            <input type="text" class="form-control" id="data_curso1" placeholder="Digite a data">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="adicionar_curso">&nbsp;</label>
            <button type="button" class="btn btn-primary btn-block">Adicionar +</button>
          </div>
        </div>
      </div>

      <!-- IDIOMA -->
      <div class="row">
        <div class="col-md-12">
          <h4>Idiomas:</h4>
        </div>
      </div>
      <div class="row">
        <div class="col-md-9">
          <div class="form-group">
            <label for="idioma">Idioma:</label>
            <input type="text" class="form-control" id="idioma" placeholder="Digite o idioma">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="adicionar_idioma">&nbsp;</label>
            <button type="button" class="btn btn-primary btn-block">Adicionar +</button>
          </div>
        </div>
      </div>

      <!-- Linha 7 -->
      <div class="row">
        <div class="col-md-12">
          <button id="btnCallAPI" type="button" class="btn btn-primary btn-block">Enviar</button>
        </div>
      </div>
    </form>
  </div>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <!-- jQuery Mask Plugin -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
  <!--Chamada para API  -->
  <script>
    function enviarParaAPI() {
      console.log("Capturando dados do formulário...");

      let nome = document.getElementById("nome").value;
      let celular = document.getElementById("celular").value;
      let email = document.getElementById("email").value;
      let cpf = document.getElementById("cpf").value;
      let bairro = document.getElementById("bairro").value;
      let cidade = document.getElementById("cidade").value;
      let uf = document.getElementById("uf").value;
      let linkedin1 = document.getElementById("linkedin1").value;
      let curso1 = document.getElementById("curso1").value;
      let instituicao1 = document.getElementById("instituicao1").value;
      let data1 = document.getElementById("data1").value;
      let titulo_sistemas = document.getElementById("titulo_sistemas").value;
      let cargos_interesse = document.getElementById("cargos_interesse").value;
      let nome_empresa = document.getElementById("nome_empresa").value;
      let cargo = document.getElementById("cargo").value;
      let data_entrada = document.getElementById("data_entrada").value;
      let data_saida = document.getElementById("data_saida").value;
      let atividades_realizadas = document.getElementById("atividades_realizadas").value;
      let curso_realizado1 = document.getElementById("curso_realizado1").value;
      let instituicao_curso1 = document.getElementById("instituicao_curso1").value;
      let data_curso1 = document.getElementById("data_curso1").value;
      let idioma = document.getElementById("idioma").value;

      console.log("Valores dos campos do formulário:");
      console.log("Nome:", nome);
      console.log("Celular:", celular);
      console.log("Email:", email);
      console.log("CPF:", cpf);
      console.log("BAIRRO:", bairro);
      console.log("Cidade:", cidade);
      console.log("UF:", uf);
      console.log("linkedin1:", linkedin1);
      console.log("Curso1:", curso1);
      console.log("Instituicao1:", instituicao1);
      console.log("data1:", data1);
      console.log("titulo_sistemas", titulo_sistemas);
      console.log("cargos_interesse", cargos_interesse);
      console.log("Nome Empresa:", nome_empresa);
      console.log("Cargo:", cargo);
      console.log("data_entrada:", data_entrada);
      console.log("data_saida:", data_saida);
      console.log("atividades_realizadas:", atividades_realizadas);
      console.log("curso_realizado1:", curso_realizado1);
      console.log("instituicao_curso1:", instituicao_curso1);
      console.log("data_curso1:", data_curso1);
      console.log("idioma:", idioma);

      const myHeaders = new Headers();
      myHeaders.append("Content-Type", "application/json");
      myHeaders.append("Authorization", "Basic YXBpc2VydmljZWZvcm06N2xZK1RUUSc5N1J3");

      const data = {
        // DADOS PESSOAIS
        "firstname": nome,
        "phone": celular,
        "email": email,
        "cpf": cpf,
        "bairro": bairro,
        "cidade": cidade,
        "uf": uf,
        "linkedin1": linkedin1,
        "curso1": curso1,
        "instituicao": instituicao1,
        "data1": data1,
        "titulo_sistemas": titulo_sistemas,
        "cargos_interesse": cargos_interesse,
        "nome_empresa": nome_empresa,
        "cargo": cargo,
        "data_entrada": data_entrada,
        "data_saida": data_saida,
        "atividades_realizadas": atividades_realizadas,
        "curso_realizado1": curso_realizado1,
        "instituicao_curso1": instituicao_curso1,
        "data_curso1": data_curso1,
        "idioma": idioma,
      };

      console.log("Enviando solicitação para a API...");
      fetch("http://conteudo.triadecarreira.com.br/api/contacts/new", {
          method: "POST",
          headers: myHeaders,
          body: JSON.stringify(data)
        })
        .then(response => {
          if (!response.ok) {
            throw new Error("Erro ao enviar solicitação para a API: " + response.statusText);
          }
          console.log("Solicitação enviada com sucesso para a API.");
          return response.json();
        })
        .then(data => {
          console.log("Resposta da API:", data);
          // Adicione aqui o código para lidar com a resposta da API, se necessário
          window.location.href = "https://triadecarreira.com.br/obrigado/";
        })
        .catch(error => {
          console.error("Erro ao enviar solicitação para a API:", error);
        })
        .finally(() => {
          // Redirecionar para a página de agradecimento
          window.location.href = "https://triadecarreira.com.br/obrigado/";
        });
    }

    document.getElementById("btnCallAPI").addEventListener("click", enviarParaAPI);

    $(document).ready(function() {
      // Máscaras para campos de texto
      $('#email').mask('A', {
        translation: {
          'A': { pattern: /[\w@\-.+]/, recursive: true }
        }
      });
      $('#linkedin1').mask('A', {
        translation: {
          'A': { pattern: /[\w@\-.+]/, recursive: true }
        }
      });
      
   
    
      // Máscaras para campos de celular e CPF
      $('#celular').mask('(00)00000-0000');
      $('#cpf').mask('000.000.000-00');
    
      // Máscara para data (DD/MM/AAAA)
      $('#data1, #data_entrada, #data_saida, #data_curso1').mask('00/00/0000');
    });
    
    
  </script>


</body>

</html>